import { useState } from "react";

const PasswordField = ({ name, placeholder }) => {
  const [passOpen, setPassOpen] = useState(false);

  return (
    <fieldset className="relative">
      <input
        type={passOpen ? "text" : "password"}
        name={name}
        placeholder={placeholder}
        className="w-full px-16 py-4 rounded-lg outline-primary"
      />
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 34 35"
        fill="none"
        className="size-[34px] absolute top-1/2 -translate-y-1/2 left-[18px]"
      >
        <g clipPath="url(#clip0_423_21200)">
          <path
            d="M17.2787 13.1932C19.8693 10.6731 24.0208 10.7304 26.5409 13.321C29.0491 15.8994 29.0875 19.9816 26.4847 22.5135C23.894 25.0336 19.7426 24.9763 17.2225 22.3856C16.8527 22.0055 16.542 21.5771 16.2872 21.1319C15.7907 21.581 15.0239 21.5597 14.5533 21.0759L13.3331 19.8215L12.0787 21.0417C11.5838 21.5231 10.7925 21.5122 10.3111 21.0173L9.09084 19.7629L8.19484 20.6345C7.50205 21.3085 6.39412 21.2932 5.7202 20.6004L3.977 18.8084C3.30308 18.1156 3.31838 17.0076 4.01117 16.3337L5.56777 14.8195C6.09053 14.311 6.79396 14.0309 7.52321 14.041L16.3411 14.1627C16.4181 14.1638 16.504 14.1257 16.5643 14.0422C16.7686 13.7593 17.0011 13.4632 17.2787 13.1932ZM24.9103 18.7438C25.4051 18.2625 25.416 17.4711 24.9347 16.9762C24.4533 16.4814 23.6619 16.4705 23.1671 16.9518C22.6723 17.4332 22.6613 18.2246 23.1427 18.7194C23.624 19.2142 24.4154 19.2252 24.9103 18.7438Z"
            fill="#9EA0A5"
          />
        </g>
        <defs>
          <clipPath id="clip0_423_21200">
            <rect
              width="24"
              height="24"
              fill="white"
              transform="translate(17.2031 0.781738) rotate(45.7909)"
            />
          </clipPath>
        </defs>
      </svg>
      <button
        type="button"
        className={`absolute right-[18px] top-1/2 -translate-y-1/2 transition-all duration-300 ${
          passOpen ? "rotate-180" : ""
        }`}
        onClick={() => setPassOpen(!passOpen)}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="25"
          viewBox="0 0 24 25"
          fill="none"
        >
          <path
            d="M11.9999 9.75511C14.209 9.75511 15.9999 11.546 15.9999 13.7551C15.9999 15.9643 14.209 17.7551 11.9999 17.7551C9.79073 17.7551 7.99987 15.9643 7.99987 13.7551C7.99987 11.546 9.79073 9.75511 11.9999 9.75511ZM11.9999 6.25049C16.6134 6.25049 20.596 9.4005 21.701 13.8149C21.8016 14.2167 21.5574 14.624 21.1556 14.7246C20.7537 14.8251 20.3465 14.581 20.2459 14.1791C19.307 10.4284 15.9212 7.75049 11.9999 7.75049C8.07681 7.75049 4.68997 10.4307 3.75273 14.1837C3.65237 14.5855 3.24523 14.8299 2.84336 14.7296C2.44149 14.6292 2.19707 14.2221 2.29743 13.8202C3.40052 9.40321 7.38436 6.25049 11.9999 6.25049Z"
            fill="#ABB1BB"
          />
        </svg>
      </button>
    </fieldset>
  );
};

export default PasswordField;
